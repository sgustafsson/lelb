<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Zufällig Lesen</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

    <script>

        var satz;

        var lastButtonClick = new Date();

        const bh2 = {
            "seite11": ["Tim malt Lisa.", "Tim malt Lisa im Sessel.", "Tim malt Lisa im Sessel am See.", "Tim malt Lisa im Sessel am See. Toll!", "Male mit Tim!"],
            "seite29": ["Im Laden", "Mama ist mit Tim im Laden.", "Mama nimmt Tomaten.", "Es sind Tomaten in Dosen.", "Mama nimmt Ananas.", "Es sind Ananas in Dosen.", "Mama nimmt Linsen.", "Es sind Linsen in Dosen.", "Tim nimmt Salami, Tee, Salat."]
        }
            ;

        var arr = ["Also los!", "Lola ist im Zelt.", "Lola ist mit Imo im Zelt.", "Lolas Zelt ist alt.", "Ist Lisa im Zelt?", "Ist Tim im Zelt?", "Lisa ist mit Tim am Zelt.", "Lisa als Indianerin.",
            "Tim als Indianer.", "Toll!", "Los, Tim!", "Lola ist im Zelt.", "Lola ist im Baumhaus.", "Tim ist mit Lola im Baumhaus.", "Imo ist am Napf.", "Lisa ist am Ast.", "Toll, Lisa!", "Lola!", "Tim!",
            "Oma Isa", "Oma Isa ist am Baumhaus.", "Ist Oma Isa alt?", "O, lila Lollis in Omas Hand!", "Isst Imo Lollis?",
            "Im Tal.", "Tim ist mit Lola im Tal.", "Mama ist mit Imo im Tal.", "Lola ist mit lila Rucksack im Tal.", "Tim ist so matt.", "Brote mit Salami!", "Limo ist im Rucksack.", "Toll, Lola!",
            "Also isst Tim Brote mit Salami.", "Mama isst Salat.", "Mist! Imo isst Lolas Salami!", "Lass los, Imo!",
            "So malt Tim mit Lisa.", "Tim malt.", "Tim malt mit Lisa.", "Lisa malt Oma.", "Malt Tim Lamas?", "Lola, lass mal!", "Tim malt total toll!",
            "So malt Lola.", "Lola malt am Tablet.", "Also los, Lola!", "Malt Lola Salat in Lila?", "Malt Lola Lamas in Lila?", "Lola malt Oma Isa in Lila.",
        ];

        document.addEventListener("DOMContentLoaded", () => {
            satz = document.getElementById('satz');
            console.log(arr.length);
            arr = arr.concat(bh2.seite11).concat(bh2.seite29);
            console.log(arr.length);
            let checkbox = document.getElementsByTagName("input");
            for (let i = 0; i < checkbox.length; i++) {
                if (checkbox[i].type.toLowerCase() == 'checkbox') {
                    checkbox[i].addEventListener("change", () => {
                        console.log("Checkbox changed " + this);

                    });
                }
            }
            //zufallsSatz();
            
        });

        function checkTimeBetweenButtonClick(lbc) {
            var current = parseInt(document.getElementById('zaehler').innerHTML);
           
            if (Number.isNaN(current)) {
                current = 0;
            }
            if(current === 0) {
                //first click afterp age load can be fast
                return;
            }
            let seconds = Math.abs(lastButtonClick.getTime() - lbc.getTime())/1000;
            if(seconds>2) {
                //console.log("Last button was clicked mroe than 2 seconds ago, everythign is fine...")
            } else {
                //alert("You are clicking too fast, are you really reading those sentences?");
                foxheading
                document.getElementById('foxheading').innerHTML = "Du bist zu schnell, liest du auch wirklich?"
                document.getElementById('foximage').src = "emoticon-holding-stop-sign-cartoon-cartoon-mascot_193274-902.jpg";
                    document.getElementById('id01').style.display='block';
            }
            lastButtonClick = lbc;
        }

        function randomFox() {
            $.ajax({
                type: "GET",
                dataType: "json",
                url: "https://randomfox.ca/floof/",
                success: function (response) {
                    console.log(response.image);
                    document.getElementById('foxheading').innerHTML = "Zur Belohnung ein Fuchs!"
                    document.getElementById('foximage').src = response.image;
                    document.getElementById('id01').style.display='block';
                }
            });
        }


        function zufallsSatz29() {
            checkTimeBetweenButtonClick(new Date());
            satz.innerHTML =
                bh2.seite29[Math.floor(Math.random() * bh2.seite29.length)];
            document.getElementById('button29').blur();
            document.getElementById('headline').style.display = "none";
            increment();
        }

        function zufallsSatz11() {
            checkTimeBetweenButtonClick(new Date());
            satz.innerHTML =
                bh2.seite11[Math.floor(Math.random() * bh2.seite11.length)];
            document.getElementById('button11').blur();
            document.getElementById('headline').style.display = "none";
            increment();
        }

        function zufallsSatz() {
            checkTimeBetweenButtonClick(new Date());
            satz.innerHTML =
                arr[Math.floor(Math.random() * arr.length)];
            document.getElementById('button').blur();
            document.getElementById('headline').style.display = "none";
            increment();
        }

        function increment() {
           
            var current = parseInt(document.getElementById('zaehler').innerHTML);
           
            if (Number.isNaN(current)) {
                current = 0;
            }
            
            current = current + 1;
            document.getElementById('zaehler').innerHTML = current;
            if(current % 5 === 0) {
                randomFox();
            }
           
        }
    </script>

    <style>
        body {
            background: #0D1117;
            color: white;
            font-family: '72', sans-serif;
            font-size: 5em;
            text-align: center;
        }

        .w3-ghgrey,
        .w3-hover-ghgrey:hover {
            color: white !important;
            background-color: #161B22 !important;
            width: auto !important;
        }


        @media screen and (max-width: 1200px) {
            body {
                font-size: 4em;
            }
        }

        @media screen and (max-width: 800px) {
            body {
                font-size: 2.5em;
            }
        }

        @media screen and (max-width: 300px) {
            body {
                font-size: 1.5em;
            }
        }
    </style>
</head>

<body>



    <h2 style="color:#686868" id="headline"><b>Lese</b> Zufallsgenerator</h2>


    <div id="id01" class="w3-modal w3-black">
        <div class="w3-modal-content w3-black">
            <div class="w3-container">
                <h4 id="foxheading">Zur Belohnung ein Fuchs</h4>
                <span onclick="document.getElementById('id01').style.display='none'"
                    class="w3-text-white w3-xxlarge w3-hover-text-grey w3-container w3-display-topright" style="cursor:pointer">×</span>
                <img src="" id="foximage" style="max-width: 100%;max-height: 100%;">
            </div>
        </div>
    </div>

    <div class="w3-row">
        <div class="w3-col" style="width:10%">&nbsp;
        </div>
        <div class="w3-col" style="width:80%">

            <div class="w3-panel w3-card-4 w3-ghgrey w3-round-large w3-padding">


                <button id="button11" class="w3-button w3-round-large w3-large w3-green w3-hover-green"
                    onclick="zufallsSatz11()"><span class=reload>&nbsp;<b>Seite 11 &#x21bb;</b>&nbsp;</span></button>

                <button id="button29" class="w3-button w3-round-large w3-large w3-green w3-hover-green"
                    onclick="zufallsSatz29()"><span class=reload>&nbsp;<b>Seite 29 &#x21bb;</b>&nbsp;</span></button>

                <button id="button" class="w3-button w3-round-large w3-large w3-green w3-hover-green"
                    onclick="zufallsSatz()"><span class=reload>&nbsp;<b>Alle Seiten &#x21bb;</b>&nbsp;</span></button>

                <p id="satz" style="font-weight: bold;">
                    <i style="color:#686868;font-size:66%">Drücke einen grünen Knopf</i>
                </p>
                <p id="zaehler" style="color:#686868; font-size:33%; font-weight: bold;"></p>
            </div>
        </div>
        <div class="w3-col" style="width:10%">&nbsp;
        </div>
    </div>

</body>

</html>